//HintName: AddNswagSwaggerPrimitivesMappingsExtensions.g.cs
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by 'Primitives Generator'.
//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

#nullable enable

using Headless.Primitives;
using Microsoft.Extensions.DependencyInjection;
using NJsonSchema;
using NJsonSchema.Generation;
using NJsonSchema.Generation.TypeMappers;
using Headless.Generator.Primitives;

namespace generator_Test.Converters.Extensions;

/// <summary>Helper class providing methods to configure Swagger mappings for Primitive types of generator_Test</summary>
public static class AddNswagSwaggerPrimitivesMappingsExtensions
{
    /// <summary>Adds Swagger mappings for specific custom types to ensure proper OpenAPI documentation generation.</summary>
    /// <param name="settings">The JsonSchemaGeneratorSettings instance to which mappings are added.</param>
    /// <remarks>
    /// The method adds Swagger mappings for the following types:
    /// <see cref="LongPrimitive" />
    /// </remarks>
    public static void AddSwaggerPrimitiveMappings(this JsonSchemaGeneratorSettings settings)
    {
        settings.TypeMappers.Add(
            new PrimitiveTypeMapper(
                typeof(LongPrimitive),
                schema =>
                {
                    schema.Type = JsonObjectType.Integer;
                    schema.Format = JsonFormatStrings.Long;
                    schema.Title = "LongPrimitive";
                }
            )
        );
        settings.TypeMappers.Add(
            new PrimitiveTypeMapper(
                typeof(LongPrimitive?),
                schema =>
                {
                    schema.Type = JsonObjectType.Integer;
                    schema.Format = JsonFormatStrings.Long;
                    schema.IsNullableRaw = true;
                    schema.Title = "Nullable<LongPrimitive>";
                }
            )
        );
    }
}
